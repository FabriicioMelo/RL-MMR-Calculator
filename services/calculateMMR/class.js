export default class CalculateMMRService {
    constructor() {}

    getUrl() {
        return "/calculatemmr";
    }

    find(params){
        const elo = params.query.elo;
        const tier = params.query.tier;
        const division = params.query.division;
        const mode = params.query.mode;

        if (elo < 0|| tier < 0 || division < 0 || mode < 0) return 404;

        const mmrTable = [
            [
                [
                ["44-113", "115-127", "131-140", "142-154"],
                ["155-158", "164", "178-195", "197-214"],
                ["208-218", "222-237", "238-256", "257-273"],
                ],
                [
                ["52-118", "123-137", "156", "157-173"],
                ["169-178", "181-197", "199-216", "217-227"],
                ["227-238", "240-257", "258-275", "277-289"],
                ],
                [
                ["-51-118", "121-137", "152", "157-172"],
                ["170-178", "184-197", "200-215", "217-231"],
                ["232-238", "240-257", "258-276", "277-293"],
                ],
            ],
            [
                [
                ["275-278", "279-297", "298-316", "317-334"],
                ["335-338", "339-357", "358-376", "377-394"],
                ["395-398", "399-417", "418-436", "437-454"],
                ],
                [
                ["291-298", "300-317", "318-336", "337-354"],
                ["354-358", "359-377", "378-396", "397-411"],
                ["414-418", "419-437", "438-456", "457-472"],
                ],
                [
                ["295-298", "299-317", "318-336", "337-354"],
                ["355-358", "359-377", "378-396", "397-414"],
                ["415-418", "419-437", "438-456", "457-474"],
                ],
            ],
            [
                [
                ["455-458", "459-477", "478-496", "497-514"],
                ["515-518", "519-537", "538-556", "557-574"],
                ["575-578", "579-597", "598-616", "617-634"],
                ],
                [
                ["474-478", "479-497", "498-516", "517-526"],
                ["535-538", "539-557", "558-576", "577-594"],
                ["595-598", "599-617", "618-636", "637-652"],
                ],
                [
                ["475-478", "479-497", "498-516", "517-534"],
                ["535-538", "539-557", "558-576", "577-594"],
                ["595-598", "599-617", "618-636", "637-654"],
                ],
            ],
            [
                [
                ["635-638", "639-657", "658-676", "677-694"],
                ["695-698", "699-717", "718-736", "737-754"],
                ["755-758", "759-777", "778-796", "797-814"],
                ],
                [
                ["655-658", "659-677", "678-696", "697-706"],
                ["715-718", "719-737", "738-756", "757-771"],
                ["774-778", "779-797", "798-816", "817-827"],
                ],
                [
                ["655-658", "659-677", "678-696", "697-714"],
                ["715-718", "719-737", "738-756", "757-767"],
                ["775-778", "779-797", "798-816", "817-834"],
                ],
            ],
            [
                [
                ["815-818", "819-837", "838-856", "857-874"],
                ["875-878", "879-897", "898-916", "917-934"],
                ["935-938", "939-957", "958-976", "977-994"],
                ],
                [
                ["835-843", "844-867", "868-891", "892-900"],
                ["915-923", "924-947", "948-971", "972-986"],
                ["995-1003", "1004-1027", "1028-1051", "1052-1065"],
                ],
                [
                ["835-843", "844-867", "868-891", "892-914"],
                ["915-923", "924-947", "948-971", "972-980"],
                ["995-1003", "1004-1027", "1028-1051", "1052-1074"],
                ],
            ],
            [
                [
                ["995-998", "999-1017", "1018-1036", "1037-1052"],
                ["1055-1058", "1060-1077", "1078-1096", "1097-1112"],
                ["1115-1118", "1120-1135", "1138-1156", "1157-1168"],
                ],
                [
                ["1075-1093", "1095-1127", "1128-1158", "1162-1180"],
                ["1195-1213", "1214-1247", "1248-1278", "1282-1300"],
                ["1315-1333", "1335-1366", "1368-1395", "1402-1419"],
                ],
                [
                ["1075-1093", "1094-1127", "1128-1160", "1162-1182"],
                ["1195-1213", "1215-1246", "1248-1277", "1282-1299"],
                ["1315-1333", "1335-1367", "1368-1400", "1402-1422"],
                ],
            ],
            [
                [
                ["1175-1178", "1181-1196", "1198-1215", "1217-1231"],
                ["1226-1238", "1240-1257", "1258-1274", "1277-1285"],
                ["1292-1299", "1300-1317", "1318-1333", "1337-1352"],
                ],
                [
                ["1435-1458", "1460-1494", "1498-1525", "1537-1559"],
                ["1575-1598", "1600-1637", "1647-1660", "1677-1699"],
                ["1715-1736", "1745-1773", "1788-1816", "1832-1857"],
                ],
                [
                ["1435-1458", "1460-1496", "1498-1532", "1537-1560"],
                ["1576-1598", "1600-1636", "1647-1660", "1677-1699"],
                ["1707-1737", "1744-1787", "1788-1819", "1832-1859"],
                ],
            ],
            [
                [["1341-1569"], [], []],
                [["1862-2009"], [], []],
                [["1876-1993"], [], []],
            ]
        ];

        if (mmrTable[elo][mode][tier].length === 0) return 404;

        return {mmr: mmrTable[elo][mode][tier][division]};
    }
}
